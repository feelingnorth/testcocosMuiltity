System.register("chunks:///main.js",["cc","./rollupPluginModLoBabelHelpers-c456a43d.js"],(function(){var t,e,r,n,a,i,o,u,s,l,c,f,d,p,h,m,v,y,x,b,g,_,D,T,M,F,I,R,C,w,E,S,U,L,N,A,V,B,k,O,P,z,X,H,q,G,W,Y,Q,j,K;return{setters:[function(H){t=H.cclegacy,e=H.game,r=H.Game,n=H.gfx,a=H.macro,i=H.dynamicAtlasManager,o=H.isValid,u=H.resources,s=H.Material,l=H.Texture2D,c=H.Sprite,f=H.Label,d=H.SpriteFrame,p=H.TiledLayer,h=H.sp,m=H.StencilManager,v=H._decorator,y=H.RenderData,x=H.Mat4,b=H.Color,g=H.VERSION,_=H.BitmapFont,D=H.js,T=H.HtmlTextParser,M=H.Vec2,F=H.LabelOutline,I=H.Node,R=H.CCObject,C=H.HorizontalTextAlignment,w=H.VerticalTextAlignment,E=H.RichText,S=H.errorID,U=H.Button,L=H.director,N=H.Component,A=H.profiler,V=H.instantiate,B=H.UITransform,k=H.tween,O=H.lerp,P=H.Prefab,z=H.ScrollView,X=H.UIOpacity},function(t){H=t.d,q=t.e,G=t._,W=t.a,Y=t.b,Q=t.c,j=t.f,K=t.g}],execute:function(){t._RF.push({},"56b6fxV8EdGE5l3I0+lUIEq","FLMultiUISetting",void 0);var J=function(){};J.allowMaxTexturesNum=16,J.TEXTURES_INDEX=0,J.maxTexturesNum=4,e.once(r.EVENT_RENDERER_INITED,(function(){J.TEXTURES_INDEX=1,J.maxTexturesNum=8;var t=n.deviceManager.gfxDevice.capabilities.maxTextureUnits;if(!t){var e=n.deviceManager.gfxDevice.gl;e&&e.getParameter&&(t=e.getParameter(e.MAX_TEXTURE_TEXTURE_UNITS))}console.warn("当前设备最大图集支持数量: "+t),(t=Math.min(J.allowMaxTexturesNum,t))>=16?(J.TEXTURES_INDEX=5,J.maxTexturesNum=16):t>=14?(J.TEXTURES_INDEX=4,J.maxTexturesNum=14):t>=12?(J.TEXTURES_INDEX=3,J.maxTexturesNum=12):t>=10?(J.TEXTURES_INDEX=2,J.maxTexturesNum=10):t>=8?(J.TEXTURES_INDEX=1,J.maxTexturesNum=8):(J.TEXTURES_INDEX=0,J.maxTexturesNum=4),console.warn("当前设备最终图集支持数量: "+t+" "+J.maxTexturesNum)})),t._RF.pop(),t._RF.push({},"00830db9TVB7bbPBHIb09Dc","FLEditorUtil",void 0);var Z=function(){function t(){}return t.load=function(t){return new Promise((function(t,e){t(null)}))},t.waitCmpt=function(t,e){return new Promise((function(r,n){t.scheduleOnce((function(){r()}),e)}))},t.isUnicodeCJK=function(t){return/^[\u4E00-\u9FFF\u3400-\u4DFF]+$/.test(t)||/[\u3000-\u303F]|[\u3040-\u309F]|[\u30A0-\u30FF]|[\uFF00-\uFFEF]|[\u4E00-\u9FAF]|[\u2605-\u2606]|[\u2190-\u2195]|\u203B/g.test(t)||/^[\u1100-\u11FF]|[\u3130-\u318F]|[\uA960-\uA97F]|[\uAC00-\uD7AF]|[\uD7B0-\uD7FF]+$/.test(t)},t.isUnicodeSpace=function(t){var e=t.charCodeAt(0);return e>=9&&e<=13||32===e||133===e||160===e||5760===e||e>=8192&&e<=8202||8232===e||8233===e||8239===e||8287===e||12288===e},t.urlToUuid=function(){var t=H(q().mark((function t(e){return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Editor.Message.request("asset-db","query-uuid",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.uuidToUrl=function(){var t=H(q().mark((function t(e){return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Editor.Message.request("asset-db","query-url",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.urlToFspath=function(){var t=H(q().mark((function t(e){return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Editor.Message.request("asset-db","query-path",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.uuidToFspath=function(){var t=H(q().mark((function t(e){return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Editor.Message.request("asset-db","query-path",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.fspathToUuid=function(){var t=H(q().mark((function t(e,r){var n;return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="db://"+e.replace(/\\/g,"/").replace(r,"").substr(6),t.next=3,Editor.Message.request("asset-db","query-uuid",n);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),t.existsByUuid=function(){var t=H(q().mark((function t(e){return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Editor.Message.request("asset-db","query-asset-info",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.existsByUrl=function(){var t=H(q().mark((function t(e){return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Editor.Message.request("asset-db","query-asset-info",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.assetInfoByUuid=function(){var t=H(q().mark((function t(e){return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Editor.Message.request("asset-db","query-asset-info",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.assetInfoByUrl=function(){var t=H(q().mark((function t(e){return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Editor.Message.request("asset-db","query-asset-info",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t}();Z.TMP_MAT="textMeshPro/resources/shader/materials/textMeshPro.mtl",t._RF.pop(),t._RF.push({},"309e2LrfwNLkLagpTq2fUuB","FLMultityUIManager",void 0);var $=function(){function t(){this.maxTexturesNum=4,this.TEXTURES_INDEX=1,this.emptyTexture=void 0,this.maxMultiNodeIndex=0,this.forceBreak=!1,this.curTextureIndex=0,this.addedTextures={},this.addedSprites={},this.multiUIMaterial=void 0,this.curRenderMaterial=void 0}t.getInstance=function(){return this._instance||(this._instance=new t,this._instance.init()),this._instance};var n=t.prototype;return n.init=function(){var t=this;this.emptyTexture=this.createEmptyTexture(),e.on(r.EVENT_HIDE,(function(){t.reset(),t.forceBreak=!0})),e.on(r.EVENT_POST_PROJECT_INIT,(function(){t.maxTexturesNum=J.maxTexturesNum,t.TEXTURES_INDEX=J.TEXTURES_INDEX,t.preloadMultiUIMaterial()})),this.preloadMultiUIMaterial(),this.reset()},n.preloadMultiUIMaterial=function(){var t=this;if(!o(this.multiUIMaterial)){var e="shaders/multi-texture-2d";u.load(e,s,(function(r,n){!r&&n?(t.multiUIMaterial=n,n.addRef(),t.multiUIMaterial.__destroy=t.multiUIMaterial.destroy,t.multiUIMaterial.destroy=function(){this.multiUIMaterial.__destroy()},t.multiUIMaterial.__decRef=t.multiUIMaterial.decRef,t.multiUIMaterial.decRef=function(t){return this._ref>0&&this._ref--,t&&assetManager._releaseManager.tryRelease(this),this}):console.error("[EditorTool.load] 资源加载失败 url: "+e,r)}))}},n.createEmptyTexture=function(){var t=l.PixelFormat.RGBA8888,e=new ArrayBuffer(4),r=new Uint8Array(e),n=new l;return n.reset({width:1,height:1,format:t}),n.uploadData(r),n},n.reset=function(t,e){if(this.forceBreak=!1,this.curTextureIndex=0,this.addedSprites={},this.addedTextures={},!e&&t&&!t.__flTexturesInited&&this.emptyTexture){var r=t.getDefine("TEXTURES_TYPE");if(null==r)return;t.__flTexturesInited=!0}},n.setProperty=function(t,e,r){if(t){var n=t.passes[0];(null==n?void 0:n.getHandle(e))&&t.setProperty(e,r,0)}},n.getTextureByComponent=function(t){var e,r,n;t instanceof c&&(e=null==(r=t.spriteFrame)?void 0:r.texture);t instanceof f&&(e=t.spriteFrame instanceof d?null==(n=t.spriteFrame)?void 0:n.texture:t.spriteFrame);if(t instanceof p){var a=t.getTexture();e=a instanceof d?null==a?void 0:a.texture:a}return t instanceof h.Skeleton&&t.skeletonData&&t.skeletonData.textures&&(e=t.skeletonData.textures[0]),e},n.checkTexturesFull=function(){return this.curTextureIndex>=this.maxTexturesNum},n.addTextureWithMaterial=function(t,e){if(!e)return!1;var r=this.getTextureByComponent(e),n=e.node;if(!r)return console.error("当前UI渲染器无图集"),n.flTextureIndex=-1,e.textureIndex=-1,!1;var a=r.getGFXTexture(),i=t.getDefine("TEXTURES_TYPE");if(null==i)return!1;var o=a.objectID,u=this.addedTextures[o];return void 0!==u?(n.flTextureIndex=u,e.textureIndex=u,!0):this.checkTexturesFull()?(n.flTextureIndex=-1,e.textureIndex=-1,!1):(u=this.curTextureIndex,n.flTextureIndex=u,e.textureIndex=u,this.setProperty(t,"texture"+n.flTextureIndex,a),this.addedTextures[o]=u,this.curTextureIndex++,!0)},n.createNewRenderBatch=function(t,e){if(e){var r=this.getTextureByComponent(e),n=e.node;if(!r)return console.error("当前UI渲染器无图集"),n.flTextureIndex=-1,void(e.textureIndex=-1);var a=t.getDefine("TEXTURES_TYPE");if(null!=a){var i=r.getGFXTexture(),o=i.objectID;n.flTextureIndex=0,e.textureIndex=0,this.addedTextures[o]=0,this.setProperty(t,"texture0",i),this.curTextureIndex=1}}},n.checkJSBMuiltyBatch=function(t){console.log("checkJSBMuiltyBatch:"+t)},n.commitCompBatch=function(t,e,r,n,a,i){this.commitCompCustom(t,e,r,n,a,i)},n.commitCompCustom=function(t,e,r,n,a,i){var o=e.material;if(o){var u=-1;if(r&&r.chunk){if(!r.isValid())return;r.dataHash,r.material,u=r.chunk.bufferId}2===e.stencilStage||6===e.stencilStage?t._insertMaskBatch(e):e.stencilStage=m.sharedManager.stage;var l=e.stencilStage,c=window.FLMultityUIMgr,f=t._currMaterial,d=t._currBID==u&&t._currLayer===e.node.layer,p=s.getHash(f)!==s.getHash(o),h=!d||p;f&&!p&&d&&(c.addTextureWithMaterial(f,e),-1==e.node.flTextureIndex&&(h=!0)),h&&(t.autoMergeBatches(t._currComponent),r&&!r._isMeshBuffer&&t.updateBuffer(r.vertexFormat,u),t._currRenderData=r,t._currHash=r?r.dataHash:0,t._currComponent=e,t._currTransform=i,t._currMaterial=e.getRenderMaterial(0),t._currDepthStencilStateStage=l,t._currLayer=e.node.layer,n?(t._currTexture=n.getGFXTexture(),t._currSampler=n.getGFXSampler(),t._currTextureHash=n.getHash(),t._currSamplerHash=t._currSampler.hash):(t._currTexture=null,t._currSampler=null,t._currTextureHash=0,t._currSamplerHash=0),c.reset(t._currMaterial,e),c.createNewRenderBatch(t._currMaterial,e)),a.fillBuffers(e,t),e._assembler&&r&&r.chunk&&e._assembler.updateTextureIdx(e)}},t}();$._instance=void 0,window.FLMultityUIMgr=$.getInstance();a.CLEANUP_IMAGE_CACHE=!0,i.enabled=false,console.log("动态合图已关闭"),t._RF.pop(),t._RF.push({},"770bfZfUD5BarLVT4O4pzXp","FLMultityAssembler2D",void 0);var tt=function(){function t(){this.verticesCount=4,this.indicesCount=6,this.uvOffset=3,this.colorOffset=5,this.textureIndexOffset=9,this.hsvOffset=10,this.oneVfmDadaOffset=10,this.QUAD_INDICES=void 0}var e=t.prototype;return e.fillMultityExtData=function(t){},e.updateTextureIdx=function(t){var e=t.renderData;if(e.chunk)for(var r=e.floatStride,n=e.chunk.vb,a=t.node.flTextureIndex,i=this.textureIndexOffset,o=n.length;i<=o;)n[i]=a,i+=r},t}();t._RF.pop(),t._RF.push({},"d511dbo0yxP7ox7Ga/2OW53","FLMultityUIRenderInterface",void 0),t._RF.pop(),t._RF.push({},"cbec2QNrclNiYj89SlBKy/C","FLMultiUICCExtend",void 0),s.prototype.getDefine=function(t){var e=this.passes[0];if(e)return e.defines[t]},t._RF.pop(),t._RF.push({},"1e2bf2ks8NC1pAcr9FS3YI+","FLMultiVertexFormat",void 0);var et,rt,nt,at,it,ot,ut,st=n.Attribute,lt=(new st(n.AttributeName.ATTR_POSITION,n.Format.RGB32F),new st(n.AttributeName.ATTR_TEX_COORD,n.Format.RG32F),new st(n.AttributeName.ATTR_COLOR,n.Format.RGBA32F),new st(n.AttributeName.ATTR_POSITION,n.Format.RGB32F),new st(n.AttributeName.ATTR_TEX_COORD,n.Format.RG32F),new st(n.AttributeName.ATTR_COLOR,n.Format.RGBA32F),new st("a_texture_idx",n.Format.R32F),new st("a_hue_color",n.Format.RGB32F),[new st(n.AttributeName.ATTR_POSITION,n.Format.RGB32F),new st(n.AttributeName.ATTR_TEX_COORD,n.Format.RG32F),new st(n.AttributeName.ATTR_COLOR,n.Format.RGBA32F),new st("a_texture_idx",n.Format.R32F)]);t._RF.pop(),t._RF.push({},"1f5e5d6VcxLr5y+oPgWid4M","FLMultityLabel",void 0);var ct=v.ccclass,ft=v.property,dt=v.executeInEditMode,pt=v.menu,ht=(et=ct("FLMultityLabel"),rt=pt("FLMultiUI/FLMultityLabel"),nt=ft({serializable:!1}),et(at=dt(at=rt((ot=G((it=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,Y(e,"textureIndex",ot,Q(e)),Y(e,"multiNodeIndex",ut,Q(e)),e.useMultiBatch=!0,e.autoCheckMaterial=!1,e}W(e,t);var r=e.prototype;return r.onLoad=function(){this.node.flTextureIndex=-1,this.useMultiBatch&&this.autoCheckMaterial&&window.FLMultityUIMgr.multiUIMaterial&&(this.customMaterial=window.FLMultityUIMgr.multiUIMaterial),t.prototype.onLoad.call(this)},r.resetInEditor=function(){var t=this;Z.load("resources/shaders/multi-texture-2d.mtl").then((function(e){e&&(t.customMaterial=e)}))},r._render=function(t){window.FLMultityUIMgr&&window.FLMultityUIMgr.commitCompBatch(t,this,this.renderData,this._texture,this._assembler,null)},r.requestRenderData=function(t){void 0===t&&(t=0);var e=y.add(lt);return e.initRenderDrawInfo(this,t),this._renderData=e,e},r._flushAssembler=function(){var t,r,n,a,i=e.Assembler.getAssembler(this);this._assembler!==i&&(this.destroyRenderData(),this._assembler=i,null==(t=this._textStyle)||t.reset(),null==(r=this._textLayout)||r.reset(),null==(n=this._textLayoutData)||n.reset(),null==(a=this._textRenderData)||a.reset());this.renderData||this._assembler&&this._assembler.createData&&(this._renderData=this._assembler.createData(this),this.renderData.material=this.material,this._updateColor())},r.updateMaterial=function(){if(this._customMaterial){this.getSharedMaterial(0)!==this._customMaterial&&this.setMaterial(this._customMaterial,0);var t=this.material,e=window.FLMultityUIMgr,r=t.getDefine("TEXTURES_TYPE");if(null==r)return;if(e){var n=e.TEXTURES_INDEX;t.recompileShaders({TEXTURES_TYPE:n,USE_HSV_COLOR:!0})}}else;},e}(f)).prototype,"textureIndex",[nt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),ut=G(it.prototype,"multiNodeIndex",[ft],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),at=it))||at)||at)||at);t._RF.pop(),t._RF.push({},"c8550Ib0shFrrYk00uiryCv","FLMulityLabelUtils",void 0);var mt=new x;function vt(t,e,r,n){var a=r.chunk,i=r.data,o=a.vb,u=r.vertexCount,s=r.floatStride;t.getWorldMatrix(mt);for(var l=0,c=0;c<u;c++){var f=i[c],d=f.x,p=f.y,h=mt.m03*d+mt.m07*p+mt.m15;h=h?1/h:1,o[l+0]=(mt.m00*d+mt.m04*p+mt.m12)*h,o[l+1]=(mt.m01*d+mt.m05*p+mt.m13)*h,o[l+2]=(mt.m02*d+mt.m06*p+mt.m14)*h,b.toArray(o,n,l+5),l+=s}a.bufferId;for(var m=a.vertexOffset,v=a.meshBuffer,y=a.meshBuffer.iData,x=v.indexOffset,g=0,_=u/4;g<_;g++){var D=m+4*g;y[x++]=D,y[x++]=D+1,y[x++]=D+2,y[x++]=D+1,y[x++]=D+3,y[x++]=D+2}v.indexOffset+=r.indexCount,v.setDirty()}t._RF.pop(),t._RF.push({},"c28467KY9RLwLil1H11yWQT","FLMultityLabelBitmapFontAssembler",void 0);var yt=new b(255,255,255,255),xt=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this).oneVfmDadaOffset=10,e}W(e,t);var r=e.prototype;return r.createData=function(t){var e=t.requestRenderData();return e.resize(0,0),e},r.fillBuffers=function(t,e){var r=t.node;yt.set(t.color),yt.a=255*r._uiProps.opacity,vt(r,0,t.renderData,yt)},r.appendQuad=function(t,e,r,n,a,i,o){var u=t.renderData;if(u){var s=u.dataLength;u.dataLength+=4,u.resize(u.dataLength,u.dataLength/2*3);var l=u.data,c=e.width,f=e.height,d=r.width,p=r.height,h=0,m=0,v=0,y=0;n?(h=r.x/c,y=(r.x+p)/c,m=(r.y+d)/f,v=r.y/f,l[s].u=h,l[s].v=v,l[s+1].u=h,l[s+1].v=m,l[s+2].u=y,l[s+2].v=v,l[s+3].u=y,l[s+3].v=m):(h=r.x/c,y=(r.x+d)/c,m=(r.y+p)/f,v=r.y/f,l[s].u=h,l[s].v=m,l[s+1].u=y,l[s+1].v=m,l[s+2].u=h,l[s+2].v=v,l[s+3].u=y,l[s+3].v=v),l[s].x=a,l[s].y=i-p*o,l[s+1].x=a+d*o,l[s+1].y=i-p*o,l[s+2].x=a,l[s+2].y=i,l[s+3].x=a+d*o,l[s+3].y=i}},r.updateUVs=function(t){for(var e=t.renderData,r=e.chunk.vb,n=e.vertexCount,a=e.data,i=3,o=e.floatStride,u=0;u<n;u++){var s=a[u];r[i]=s.u,r[i+1]=s.v,i+=o}},e}(tt);t._RF.pop(),t._RF.push({},"8c94bzDthVMBoEqHuih3c7G","FLMultityLabelLetterAssembler",void 0);var bt=new b(255,255,255,255),gt=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this).oneVfmDadaOffset=10,e}W(e,t);var r=e.prototype;return r.createData=function(t){var e=t.requestRenderData();return e.resize(0,0),e},r.fillBuffers=function(t,e){if(t.renderData){var r=t.node;bt.a=255*r._uiProps.opacity,vt(r,0,t.renderData,bt)}},r.updateUVs=function(t){for(var e=t.renderData,r=e.chunk.vb,n=e.vertexCount,a=e.data,i=3,o=e.floatStride,u=0;u<n;u++){var s=a[u];r[i]=s.u,r[i+1]=s.v,i+=o}},e}(tt);t._RF.pop(),t._RF.push({},"03ed2vjAwxHHJ6Dh2b5j2u+","FLEngineVersionUtil",void 0);var _t=function(){function t(){}return t.isEqualVersion=function(e){return t.CUR_VERSION==e},t.isGreaterVersion=function(e){var r=t.CUR_VERSION.split("."),n=e.split(".");return r[0]>n[0]||r[0]==n[0]&&r[1]>n[1]||r[0]==n[0]&&r[1]==n[1]&&+r[2]>+n[2]},j(t,null,[{key:"isVersion3_7_4",get:function(){return t.CUR_VERSION==t.VERSION_3_7_4}},{key:"isVersion3_8_1",get:function(){return t.CUR_VERSION==t.VERSION_3_8_1}},{key:"isVersion3_8_2",get:function(){return t.CUR_VERSION==t.VERSION_3_8_2}},{key:"isVersion3_8_3",get:function(){return t.CUR_VERSION==t.VERSION_3_8_3}},{key:"isVersion3_8_x",get:function(){var e=t.CUR_VERSION.split(".");if(e.length>=3)return"3"==e[0]&&"8"==e[1]&&+e[2]>=1}}]),t}();_t.VERSION_3_7_4="3.7.4",_t.VERSION_3_8_1="3.8.1",_t.VERSION_3_8_2="3.8.2",_t.VERSION_3_8_3="3.8.3",_t.CUR_VERSION=g,t._RF.pop(),t._RF.push({},"b0a2fC5bSlLZb2NV05RE/3S","FLMultityLabelTTFAssembler",void 0);var Dt=b.WHITE.clone(),Tt=Uint16Array.from([0,1,2,1,3,2]),Mt=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this).oneVfmDadaOffset=10,e}W(e,t);var r=e.prototype;return r.createData=function(t){var e=t.requestRenderData();e.dataLength=4,e.resize(4,6),_t.isVersion3_8_x&&(t._textRenderData.quadCount=4);for(var r=e.chunk.vb,n=3,a=e.floatStride,i=5,o=0;o<4;o++)b.toArray(r,Dt,i),r[n]=0,r[n+1]=1,i+=a,n+=a;return e.chunk.setIndexBuffer(Tt),e},r.fillBuffers=function(t,e){for(var r=t.renderData,n=r.chunk,a=r.data,i=t.node,o=n.vb,u=i.worldMatrix,s=r.floatStride,l=0,c=a.length,f=0;f<c;f++){var d=a[f],p=d.x,h=d.y,m=u.m03*p+u.m07*h+u.m15;m=m?1/m:1,o[(l=f*s)+0]=(u.m00*p+u.m04*h+u.m12)*m,o[l+1]=(u.m01*p+u.m05*h+u.m13)*m,o[l+2]=(u.m02*p+u.m06*h+u.m14)*m}var v=n.vertexOffset,y=n.meshBuffer,x=n.meshBuffer.iData,b=y.indexOffset;x[b++]=v,x[b++]=v+1,x[b++]=v+2,x[b++]=v+2,x[b++]=v+1,x[b++]=v+3,y.indexOffset+=6},r.updateVertexData=function(t){var e=t.renderData;if(e){var r=t.node._uiProps.uiTransformComp,n=r.width,a=r.height,i=r.anchorX*n,o=r.anchorY*a,u=e.data;u[0].x=-i,u[0].y=-o,u[1].x=n-i,u[1].y=-o,u[2].x=-i,u[2].y=a-o,u[3].x=n-i,u[3].y=a-o}},r.updateUVs=function(t){var e=t.renderData;if(e&&t.ttfSpriteFrame){var r=e.chunk.vb,n=t.ttfSpriteFrame.uv,a=3,i=e.floatStride;r[a]=n[0],r[a+1]=n[1],r[a+=i]=n[2],r[a+1]=n[3],r[a+=i]=n[4],r[a+1]=n[5],r[a+=i]=n[6],r[a+1]=n[7]}},r.updateColor=function(t){},e}(tt);t._RF.pop(),t._RF.push({},"eeb7fOckXpGmpMxy+7NcVMv","index",void 0);var Ft,It={getAssembler:function(t){var e=new Mt,r=f.Assembler.getAssembler(t);return t.font instanceof _?e=new xt:t.cacheMode==ht.CacheMode.CHAR&&(e=new gt),D.addon(e,r),e}};ht.Assembler=It,t._RF.pop(),t._RF.push({},"10c20RfEbhCEozhasxqFhLe","FLMultityRichText",void 0);var Rt=v.ccclass,Ct=(v.property,v.executeInEditMode),wt=v.menu,Et=(new T,"RICHTEXT_CHILD"),St="RICHTEXT_Image_CHILD",Ut=(new M,new M,new D.Pool((function(t){if(!o(t.node))return!1;var e=t.node.getComponent(F);return e&&(e.width=0),!0}),20)),Lt=new D.Pool((function(t){return o(t.node)}),10);function Nt(t,e){var r;t===Et?r=Ut._get():t===St&&(r=Lt._get());var n=(r=r||function(t){return{node:new I(t),comp:null,lineCount:0,styleIndex:0,imageOffset:"",clickParam:"",clickHandler:"",type:t}}(t)).node;return n||(n=new I(t)),n.hideFlags|=R.Flags.DontSave|R.Flags.HideInHierarchy,t===St?(r.comp=n.getComponent(c)||n.addComponent(c),r.comp.spriteFrame=e,r.comp.type=c.Type.SLICED,r.comp.sizeMode=c.SizeMode.CUSTOM):(r.comp=n.getComponent(ht)||n.addComponent(ht),r.comp.autoCheckMaterial=!0,r.comp.string=e,r.comp.horizontalAlign=C.LEFT,r.comp.verticalAlign=w.TOP,r.comp.underlineHeight=2),n.setPosition(0,0,0),n._uiProps.uiTransformComp.setAnchorPoint(.5,.5),r.node=n,r.lineCount=0,r.styleIndex=0,r.imageOffset="",r.clickParam="",r.clickHandler="",r}var At,Vt,Bt,kt,Ot,Pt,zt,Xt,Ht;Rt("FLMultityRichText")(Ft=Ct(Ft=wt("FLMultiUI/FLMultityRichText")(Ft=function(t){function e(){return t.apply(this,arguments)||this}W(e,t);var r=e.prototype;return r._createFontLabel=function(t){return Nt(Et,t)},r._createImage=function(t){return Nt(St,t)},e}(E))||Ft)||Ft);t._RF.pop(),t._RF.push({},"f7616z9DbpJfrLj+XhaTL90","FLMultitySprite",void 0);var qt=v.ccclass,Gt=v.property,Wt=v.executeInEditMode,Yt=v.menu,Qt=(At=qt("FLMultitySprite"),Vt=Yt("FLMultiUI/FLMultitySprite"),Bt=Gt({serializable:!1}),kt=Gt({visible:!0}),At(Ot=Wt(Ot=Vt(((Ht=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,Y(e,"textureIndex",zt,Q(e)),Y(e,"multiNodeIndex",Xt,Q(e)),e.autoCheckMaterial=!1,e}W(e,t);var r=e.prototype;return r.__preload=function(){t.prototype.__preload.call(this)},r.onLoad=function(){this.node.flTextureIndex=-1,t.prototype.onLoad.call(this)},r.resetInEditor=function(){var t=this;Z.load("resources/shaders/multi-texture-2d.mtl").then((function(e){e&&(t.customMaterial=e)}))},r.requestRenderData=function(t){void 0===t&&(t=0);var e=y.add(lt);return e.initRenderDrawInfo(this,t),this._renderData=e,e},r._render=function(t){window.FLMultityUIMgr&&window.FLMultityUIMgr.commitCompBatch(t,this,this.renderData,this._spriteFrame,this._assembler,null)},r._flushAssembler=function(){var t=e.Assembler.getAssembler(this);this._assembler!==t&&(this.destroyRenderData(),this._assembler=t),this._renderData||this._assembler&&this._assembler.createData&&(this._renderData=this._assembler.createData(this),this._renderData.material=this.material,this.markForUpdateRenderData(),this.spriteFrame&&this._assembler.updateUVs(this),this._updateColor()),this._spriteFrame&&(this._type===e.Type.SLICED?this._spriteFrame.on(d.EVENT_UV_UPDATED,this._updateUVs,this):this._spriteFrame.off(d.EVENT_UV_UPDATED,this._updateUVs,this))},r.updateMaterial=function(){if(this._customMaterial){this.getSharedMaterial(0)!==this._customMaterial&&this.setMaterial(this._customMaterial,0);var t=this.material,e=window.FLMultityUIMgr,r=t.getDefine("TEXTURES_TYPE");if(null==r)return;if(e){var n=e.TEXTURES_INDEX;this.getMaterialInstance(0).recompileShaders({TEXTURES_TYPE:n,USE_HSV_COLOR:!0})}}else;},r.updateHSVCorlorData=function(){this._customMaterial&&this._assembler&&this._assembler.fillMultityExtData&&this._assembler.fillMultityExtData(this)},r._setProperty=function(t,e){if(this._customMaterial){var r=this._customMaterial.passes[0],n=r.getHandle(t);r.setUniform(n,e)}},r._markShaderDataChange=function(){},r.onDestroy=function(){return t.prototype.onDestroy.call(this),e.callSuperOnDestroy},r.rgbConvertToHSV=function(t,e,r){var n=Math.max(t,e,r),a=n-Math.min(t,e,r),i=a&&(n==t?(e-r)/a:n==e?2+(r-t)/a:4+(t-e)/a);return[60*(i<0?i+6:i),n&&a/n,n]},r.f=function(t,e,r,n){var a=(t+e/60)%6;return n-n*r*Math.max(Math.min(a,4-a,1),0)},r.hsvConvertToRGB=function(t,e,r,n){return n||(n=function(n,a){return void 0===a&&(a=(n+t/60)%6),r-r*e*Math.max(Math.min(a,4-a,1),0)}),[n(5),n(3),n(1)]},r._updateColor=function(){t.prototype._updateColor.call(this)},j(e,[{key:"grayscale",get:function(){return this._useGrayscale},set:function(t){this._useGrayscale!==t&&(this._useGrayscale=t,this.material.recompileShaders({IS_GRAY:t}))}}]),e}(c)).callSuperOnDestroy=Symbol("Calling super.onDestroy is mandatory"),zt=G((Pt=Ht).prototype,"textureIndex",[Bt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return-1}}),Xt=G(Pt.prototype,"multiNodeIndex",[kt],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),Ot=Pt))||Ot)||Ot)||Ot);t._RF.pop(),t._RF.push({},"ac1108ElyFD3pMV6PCYN3Zm","FLMultityBarFilledAssembler",void 0);var jt=Qt.FillType,Kt=new x,Jt=Uint16Array.from([0,1,2,1,3,2]),Zt=function(t){function e(){return t.apply(this,arguments)||this}W(e,t);var r=e.prototype;return r.updateRenderData=function(t){var e=t.spriteFrame;i.packToDynamicAtlas(t,e);var r=t.renderData;if(r&&e){if(!r.vertDirty)return;var n=t.fillStart,a=t.fillRange;a<0&&(n+=a,a=-a),a=(a=(a=n+a)>1?1:a)<0?0:a;var o=(n=(n=n>1?1:n)<0?0:n)+(a=(a-=n)<0?0:a);o=o>1?1:o,this.updateUVs(t,n,o),this.updateVertexData(t,n,o),this.fillMultityExtData&&this.fillMultityExtData(t),r.updateRenderData(t,e)}},r.updateUVs=function(t,e,r){var n=t.spriteFrame,a=t.renderData,i=a.chunk.vb,o=n.width,u=n.height,s=n.rect,l=0,c=0,f=0,d=0,p=0,h=0,m=0,v=0,y=0,x=0;n.isRotated()?(l=s.x/o,c=(s.y+s.width)/u,f=p=l,m=y=(s.x+s.height)/o,h=x=c,d=v=s.y/u):(l=s.x/o,c=(s.y+s.height)/u,f=m=l,p=y=(s.x+s.width)/o,d=h=c,v=x=s.y/u);var b=3,g=a.floatStride;switch(t.fillType){case jt.HORIZONTAL:i[b]=f+(p-f)*e,i[b+1]=d+(h-d)*e,i[b+=g]=f+(p-f)*r,i[b+1]=d+(h-d)*r,i[b+=g]=m+(y-m)*e,i[b+1]=v+(x-v)*e,i[b+=g]=m+(y-m)*r,i[b+1]=v+(x-v)*r;break;case jt.VERTICAL:i[b]=f+(m-f)*e,i[b+1]=d+(v-d)*e,i[b+=g]=p+(y-p)*e,i[b+1]=h+(x-h)*e,i[b+=g]=f+(m-f)*r,i[b+1]=d+(v-d)*r,i[b+=g]=p+(y-p)*r,i[b+1]=h+(x-h)*r;break;default:S(2626)}},r.updateVertexData=function(t,e,r){var n=t.renderData.data,a=t.node._uiProps.uiTransformComp,i=a.width,o=a.height,u=a.anchorX*i,s=a.anchorY*o,l=-u,c=-s,f=i-u,d=o-s,p=0;switch(t.fillType){case jt.HORIZONTAL:p=l+(f-l)*r,l=l+(f-l)*e,f=p;break;case jt.VERTICAL:p=c+(d-c)*r,c=c+(d-c)*e,d=p;break;default:S(2626)}n[0].x=l,n[0].y=c,n[1].x=f,n[1].y=c,n[2].x=l,n[2].y=d,n[3].x=f,n[3].y=d},r.createData=function(t){var e=t.requestRenderData();e.dataLength=4,e.resize(4,6),e.chunk.setIndexBuffer(Jt);for(var r,n=e.data,a=K(n);!(r=a()).done;){r.value.z=0}return e},r.updateWorldVertexData=function(t,e){t.node.getWorldMatrix(Kt);for(var r=t.renderData.floatStride,n=t.renderData.data,a=e.vb,i=0,o=0;o<4;o++){var u=n[o],s=u.x,l=u.y,c=Kt.m03*s+Kt.m07*l+Kt.m15;c=c?1/c:1,a[i=o*r]=(Kt.m00*s+Kt.m04*l+Kt.m12)*c,a[i+1]=(Kt.m01*s+Kt.m05*l+Kt.m13)*c,a[i+2]=(Kt.m02*s+Kt.m06*l+Kt.m14)*c}},r.fillBuffers=function(t,e){var r=t.renderData,n=r.chunk;(t._flagChangedVersion!==t.node.flagChangedVersion||r.vertDirty)&&(this.updateWorldVertexData(t,n),r.vertDirty=!1,t._flagChangedVersion=t.node.flagChangedVersion);n.bufferId;var a=n.vertexOffset,i=n.meshBuffer,o=n.meshBuffer.iData,u=i.indexOffset;o[u++]=a,o[u++]=a+1,o[u++]=a+2,o[u++]=a+2,o[u++]=a+1,o[u++]=a+3,i.indexOffset+=6},r.updateColor=function(t){for(var e=t.renderData,r=e.chunk.vb,n=e.floatStride,a=5,i=t.color,o=i.r/255,u=i.g/255,s=i.b/255,l=t.node._uiProps.opacity,c=0;c<4;c++)r[a]=o,r[a+1]=u,r[a+2]=s,r[a+3]=l,a+=n},e}(tt);t._RF.pop(),t._RF.push({},"ab6fe2qGB9IuZBZqaLvyTHg","FLMultityRadialFilledAssembler",void 0);var $t,te=2*Math.PI,ee=1e-6,re=new x,ne=[new M,new M,new M,new M],ae=new Array(4),ie=new Array(8),oe=[new M,new M,new M,new M],ue=[new M,new M,new M,new M],se=new M,le=[new M,new M,new M,new M];function ce(t,e,r,n,a,i,o){var u=Math.sin(i);u=Math.abs(u)>ee?u:0;var s=Math.cos(i),l=0,c=0;if(0!==(s=Math.abs(s)>ee?s:0)){if(l=u/s,(t-a.x)*s>0){var f=a.y+l*(t-a.x);o[0].x=t,o[0].y=f}if((e-a.x)*s>0){var d=a.y+l*(e-a.x);o[2].x=e,o[2].y=d}}if(0!==u){if(c=s/u,(n-a.y)*u>0){var p=a.x+c*(n-a.y);o[3].x=p,o[3].y=n}if((r-a.y)*u>0){var h=a.x+c*(r-a.y);o[1].x=h,o[1].y=r}}}function fe(t,e){var r=e.x-t.x,n=e.y-t.y;if(0===r&&0===n)return 0;if(0===r)return n>0?.5*Math.PI:1.5*Math.PI;var a=Math.atan(n/r);return r<0&&(a+=Math.PI),a}function de(t,e,r,n,a){var i=ae,o=i[0],u=i[1],s=i[2],l=i[3];t[e].x=r.x,t[e].y=r.y,t[e+1].x=n.x,t[e+1].y=n.y,t[e+2].x=a.x,t[e+2].y=a.y;pe((r.x-o)/(s-o),(r.y-u)/(l-u),t,e),pe((n.x-o)/(s-o),(n.y-u)/(l-u),t,e+1),pe((a.x-o)/(s-o),(a.y-u)/(l-u),t,e+2)}function pe(t,e,r,n){var a=ie,i=a[0]+(a[2]-a[0])*t,o=a[4]+(a[6]-a[4])*t,u=a[1]+(a[3]-a[1])*t,s=a[5]+(a[7]-a[5])*t,l=r[n];l.u=i+(o-i)*e,l.v=u+(s-u)*e}var he=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this).useModel=!1,e}W(e,t);var r=e.prototype;return r.createData=function(t){return t.requestRenderData()},r.updateRenderData=function(t){var e=t.spriteFrame;i.packToDynamicAtlas(t,e),this.updateUVs(t);var r,n,a,o,u,s,l,c,f,d=t.renderData;if(d&&e){if(!d.vertDirty)return;var p=d.data,h=t.fillStart,m=t.fillRange;for(m<0&&(h+=m,m=-m);h>=1;)h-=1;for(;h<0;)h+=1;var v=(h*=te)+(m*=te);!function(t){var e=t.node._uiProps.uiTransformComp,r=e.width,n=e.height,a=e.anchorX*r,i=e.anchorY*n,o=-a,u=-i,s=r-a,l=n-i,c=ae;c[0]=o,c[1]=u,c[2]=s,c[3]=l;var f=t.fillCenter,d=se.x=Math.min(Math.max(0,f.x),1)*(s-o)+o,p=se.y=Math.min(Math.max(0,f.y),1)*(l-u)+u;ne[0].x=ne[3].x=o,ne[1].x=ne[2].x=s,ne[0].y=ne[1].y=u,ne[2].y=ne[3].y=l;for(var h=0,m=le;h<m.length;h++){var v=m[h];M.set(v,0,0)}d!==c[0]&&M.set(le[0],3,0),d!==c[2]&&M.set(le[2],1,2),p!==c[1]&&M.set(le[1],0,1),p!==c[3]&&M.set(le[3],2,3)}(t),n=(r=e).width,a=r.height,o=r.getRect(),u=0,s=0,l=0,c=0,f=ie,r.isRotated()?(u=o.x/n,s=(o.x+o.height)/n,l=o.y/a,c=(o.y+o.width)/a,f[0]=f[2]=u,f[4]=f[6]=s,f[3]=f[7]=c,f[1]=f[5]=l):(u=o.x/n,s=(o.x+o.width)/n,l=o.y/a,c=(o.y+o.height)/a,f[0]=f[4]=u,f[2]=f[6]=s,f[1]=f[3]=c,f[5]=f[7]=l),ce(ae[0],ae[2],ae[1],ae[3],se,h,oe),ce(ae[0],ae[2],ae[1],ae[3],se,h+m,ue);for(var y=0,x=0;x<4;++x){var b=le[x];if(b)if(m>=te)d.dataLength=y+3,de(p,y,se,ne[b.x],ne[b.y]),y+=3;else{var g=fe(se,ne[b.x]),_=fe(se,ne[b.y]);_<g&&(_+=te),g-=te,_-=te;for(var D=0;D<3;++D)g>=v||(g>=h?(d.dataLength=y+3,de(p,y,se,ne[b.x],_>=v?ue[x]:ne[b.y]),y+=3):_>h&&(_<=v?(d.dataLength=y+3,de(p,y,se,oe[x],ne[b.y]),y+=3):(d.dataLength=y+3,de(p,y,se,oe[x],ue[x]),y+=3))),g+=te,_+=te}}0===y&&(d.dataLength=0),d.resize(y,y),this.fillMultityExtData&&this.fillMultityExtData(t),d.updateRenderData(t,e)}},r.createQuadIndices=function(t){$t=null,$t=new Uint16Array(t);for(var e=0,r=0;r<t;r++)$t[e++]=r},r.fillBuffers=function(t,e){var r=t.node,n=t.renderData,a=n.chunk;(r.hasChangedFlags||n.vertDirty)&&(this.updateWorldVertexAndUVData(t,a),n.vertDirty=!1),this.updateColorLate(t);a.bufferId;for(var i=a.vertexOffset,o=a.meshBuffer,u=a.meshBuffer.iData,s=o.indexOffset,l=0;l<n.indexCount;l++)u[s+l]=i+l;o.indexOffset+=n.indexCount,o.setDirty()},r.updateWorldUVData=function(t){for(var e=t.renderData,r=e.floatStride,n=e.data,a=e.chunk.vb,i=0;i<n.length;i++){var o=i*r;a[o+3]=n[i].u,a[o+4]=n[i].v}},r.updateWorldVertexAndUVData=function(t,e){t.node.getWorldMatrix(re);for(var r=t.renderData,n=r.floatStride,a=t.renderData.data,i=e.vb,o=r.vertexCount,u=0,s=0;s<o;s++){var l=a[s],c=l.x,f=l.y,d=re.m03*c+re.m07*f+re.m15;d=d?1/d:1,i[u+0]=(re.m00*c+re.m04*f+re.m12)*d,i[u+1]=(re.m01*c+re.m05*f+re.m13)*d,i[u+2]=(re.m02*c+re.m06*f+re.m14)*d,i[u+3]=l.u,i[u+4]=l.v,u+=n}},r.updateUVs=function(t){t.renderData.vertDirty=!0,t.markForUpdateRenderData()},r.updateColorLate=function(t){for(var e=t.renderData,r=e.chunk.vb,n=e.floatStride,a=e.vertexCount,i=5,o=t.color,u=o.r/255,s=o.g/255,l=o.b/255,c=t.node._uiProps.opacity,f=0;f<a;f++)r[i]=u,r[i+1]=s,r[i+2]=l,r[i+3]=c,i+=n},r.updateColor=function(t){},e}(tt);t._RF.pop(),t._RF.push({},"4da16Pu5XRJtbHO8FlY1Tp0","FLMultitySimpleAssembler",void 0);var me=Uint16Array.from([0,1,2,1,3,2]),ve=function(t){function e(){return t.apply(this,arguments)||this}W(e,t);var r=e.prototype;return r.createData=function(t){var e=t.requestRenderData();return e.dataLength=4,e.resize(4,6),e.vertexRow=2,e.vertexCol=2,e.chunk.setIndexBuffer(me),e},r.updateRenderData=function(t){var e=t.spriteFrame;i.packToDynamicAtlas(t,e),this.updateUVs(t);var r=t.renderData;r&&e&&(r.vertDirty&&this.updateVertexData(t),this.fillMultityExtData&&this.fillMultityExtData(t),r.updateRenderData(t,e))},r.updateWorldVerts=function(t,e){for(var r=t.renderData,n=e.vb,a=r.data,i=t.node.worldMatrix,o=r.floatStride,u=0,s=a.length,l=0;l<s;l++){var c=a[l],f=c.x,d=c.y,p=i.m03*f+i.m07*d+i.m15;p=p?1/p:1,n[(u=l*o)+0]=(i.m00*f+i.m04*d+i.m12)*p,n[u+1]=(i.m01*f+i.m05*d+i.m13)*p,n[u+2]=(i.m02*f+i.m06*d+i.m14)*p}},r.fillBuffers=function(t,e){if(null!==t){var r=t.renderData,n=r.chunk;(t.node.hasChangedFlags||r.vertDirty)&&(this.updateWorldVerts(t,n),r.vertDirty=!1);n.bufferId;for(var a=n.vertexOffset,i=n.meshBuffer,o=n.meshBuffer.iData,u=i.indexOffset,s=0;s<r.vertexRow-1;s++)for(var l=0;l<r.vertexCol-1;l++){var c=a+s*r.vertexCol+l;o[u++]=c,o[u++]=c+1,o[u++]=c+r.vertexCol,o[u++]=c+1,o[u++]=c+1+r.vertexCol,o[u++]=c+r.vertexCol,i.indexOffset+=6}i.setDirty()}},r.updateVertexData=function(t){var e=t.renderData;if(e){var r=t.node._uiProps.uiTransformComp,n=e.data,a=r.width,i=r.height,o=r.anchorX*a,u=r.anchorY*i,s=0,l=0,c=0,f=0;if(t.trim)s=-o,l=-u,c=a-o,f=i-u;else{var d=t.spriteFrame,p=d.originalSize,h=a/p.width,m=i/p.height,v=d.trimmedBorder;s=v.x*h-o,l=v.z*m-u,c=a+v.y*h-o,f=i+v.w*m-u}n[0].x=s,n[0].y=l,n[1].x=c,n[1].y=l,n[2].x=s,n[2].y=f,n[3].x=c,n[3].y=f,e.vertDirty=!0}},r.updateUVs=function(t){if(t.spriteFrame){var e=t.renderData,r=e.chunk.vb,n=t.spriteFrame.uv,a=e.floatStride,i=3;r[i]=n[0],r[i+1]=n[1],r[i+=a]=n[2],r[i+1]=n[3],r[i+=a]=n[4],r[i+1]=n[5],r[i+=a]=n[6],r[i+1]=n[7]}},r.updateColor=function(t){for(var e=t.renderData,r=e.chunk.vb,n=5,a=t.color,i=a.r/255,o=a.g/255,u=a.b/255,s=a.a/255,l=0;l<4;l++,n+=e.floatStride)r[n]=i,r[n+1]=o,r[n+2]=u,r[n+3]=s},e}(tt);t._RF.pop(),t._RF.push({},"baf71P+06FIHpPX1KNqahvT","FLMultitySlicedAssembler",void 0);for(var ye=new x,xe=[],be=0;be<4;be++)xe.push({x:0,y:0,z:0,u:0,v:0,color:new b});var ge=function(t){function e(){return t.apply(this,arguments)||this}W(e,t);var r=e.prototype;return r.createData=function(t){var e=t.requestRenderData();return e.dataLength=16,e.resize(16,54),e.vertexRow=4,e.vertexCol=4,this.QUAD_INDICES=new Uint16Array(54),this.createQuadIndices(4,4),e.chunk.setIndexBuffer(this.QUAD_INDICES),e},r.createQuadIndices=function(t,e){for(var r=0,n=0;n<t-1;n++)for(var a=0;a<e-1;a++){var i=n*e+a;this.QUAD_INDICES[r++]=i,this.QUAD_INDICES[r++]=i+1,this.QUAD_INDICES[r++]=i+e,this.QUAD_INDICES[r++]=i+1,this.QUAD_INDICES[r++]=i+1+e,this.QUAD_INDICES[r++]=i+e}},r.updateRenderData=function(t){var e=t.spriteFrame;i.packToDynamicAtlas(t,e),this.updateUVs(t);var r=t.renderData;r&&e&&(r.vertDirty&&this.updateVertexData(t),this.fillMultityExtData&&this.fillMultityExtData(t),r.updateRenderData(t,e))},r.updateVertexData=function(t){var e=t.renderData,r=e.data,n=t.node._uiProps.uiTransformComp,a=n.width,i=n.height,o=n.anchorX*a,u=n.anchorY*i,s=t.spriteFrame,l=s.insetLeft,c=s.insetRight,f=s.insetTop,d=s.insetBottom,p=a-l-c,h=i-f-d,m=a/(l+c),v=i/(f+d);m=Number.isNaN(m)||m>1?1:m,v=Number.isNaN(v)||v>1?1:v,p=p<0?0:p,h=h<0?0:h,xe[0].x=-o,xe[0].y=-u,xe[1].x=l*m-o,xe[1].y=d*v-u,xe[2].x=xe[1].x+p,xe[2].y=xe[1].y+h,xe[3].x=a-o,xe[3].y=i-u;for(var y=0;y<e.vertexRow;y++)for(var x=0;x<e.vertexCol;x++){var b=y*e.vertexCol+x;b<e.dataLength&&y<xe.length&&x<xe.length&&(r[b].x=xe[x].x,r[b].y=xe[y].y)}},r.fillBuffers=function(t,e){var r=t.renderData,n=r.chunk;(t.node.hasChangedFlags||r.vertDirty)&&(this.updateWorldVertexData(t,n),r.vertDirty=!1);n.bufferId;for(var a=n.vertexOffset,i=n.meshBuffer,o=n.meshBuffer.iData,u=i.indexOffset,s=0;s<3;++s)for(var l=0;l<3;++l){var c=a+4*s+l;o[u++]=c,o[u++]=c+1,o[u++]=c+4,o[u++]=c+1,o[u++]=c+5,o[u++]=c+4}i.indexOffset=u},r.updateWorldVertexData=function(t,e){t.node.getWorldMatrix(ye);for(var r=t.renderData,n=r.floatStride,a=r.data,i=e.vb,o=0,u=0;u<4;++u)for(var s=a[4*u],l=0;l<4;++l){var c=a[l].x,f=s.y,d=ye.m03*c+ye.m07*f+ye.m15;d=d?1/d:1,i[(o=(4*u+l)*n)+0]=(ye.m00*c+ye.m04*f+ye.m12)*d,i[o+1]=(ye.m01*c+ye.m05*f+ye.m13)*d,i[o+2]=(ye.m02*c+ye.m06*f+ye.m14)*d}},r.updateUVs=function(t){if(t.spriteFrame)for(var e=t.renderData,r=e.chunk.vb,n=e.floatStride,a=t.spriteFrame.uvSliced,i=3,o=0;o<16;o++)r[i]=a[o].u,r[i+1]=a[o].v,i+=n},r.updateColor=function(t){for(var e=t.renderData,r=e.chunk.vb,n=e.floatStride,a=5,i=t.color,o=i.r/255,u=i.g/255,s=i.b/255,l=t.node._uiProps.opacity,c=0;c<16;c++)r[a]=o,r[a+1]=u,r[a+2]=s,r[a+3]=l,a+=n},e}(tt);t._RF.pop(),t._RF.push({},"49eed1e7T5FJa1jlZ2QY8MR","FLMultityTiledAssembler",void 0);var _e,De,Te,Me,Fe,Ie,Re,Ce=new x,we=0,Ee=[],Se=null;function Ue(t){return t&&(t.insetTop>0||t.insetBottom>0||t.insetLeft>0||t.insetRight>0)?2:0}var Le=function(t){function e(){return t.apply(this,arguments)||this}W(e,t);var r=e.prototype;return r.createData=function(t){return t.requestRenderData()},r.updateRenderData=function(t){var e=t.renderData,r=t.spriteFrame;if(r&&e&&e.vertDirty){var n=t.node._uiProps.uiTransformComp,a=Math.abs(n.width),i=Math.abs(n.height),o=r.getRect(),u=r.insetLeft,s=r.insetRight,l=o.width-u-s,c=r.insetTop,f=r.insetBottom,d=o.height-c-f,p=a-u-s,h=i-c-f;p=p>0?p:0,h=h>0?h:0;var m=0===l?p:p/l,v=0===d?h:h/d,y=Ue(r),x=Math.ceil(v+y),b=Math.ceil(m+y);e.dataLength=2*x*(2*b),this.updateVerts(t,p,h,x,b),e.vertexCount!==x*b*4&&(t.renderEntity.colorDirty=!0),e.resize(x*b*4,x*b*6),this.fillMultityExtData&&this.fillMultityExtData(t),e.updateRenderData(t,r)}},r.createQuadIndices=function(t){if(t%6==0){var e=t/6;Se=null,Se=new Uint16Array(t);for(var r=0,n=0;n<e;n++)Se[r++]=0+4*n,Se[r++]=1+4*n,Se[r++]=2+4*n,Se[r++]=1+4*n,Se[r++]=3+4*n,Se[r++]=2+4*n}else console.error("illegal index count!")},r.updateUVs=function(t){t.renderData.vertDirty=!0,t.markForUpdateRenderData()},r.fillBuffers=function(t,e){var r=t.node,n=t.renderData,a=n.chunk;(t._flagChangedVersion!==r.flagChangedVersion||n.vertDirty)&&(this.updateWorldVertexAndUVData(t,a),n.vertDirty=!1,t._flagChangedVersion=r.flagChangedVersion),this.updateColorLate(t);a.bufferId;for(var i=a.vertexOffset,o=a.meshBuffer,u=a.meshBuffer.iData,s=o.indexOffset,l=0;l<n.indexCount;l+=6)u[s++]=i,u[s++]=i+1,u[s++]=i+2,u[s++]=i+1,u[s++]=i+3,u[s++]=i+2,i+=4,o.indexOffset+=6;o.setDirty()},r.updateWorldUVData=function(t){for(var e=t.renderData,r=e.floatStride,n=e.data,a=e.chunk.vb,i=0;i<n.length;i++){var o=i*r;a[o+3]=n[i].u,a[o+4]=n[i].v}},r.updateWorldVertexAndUVData=function(t,e){t.node.getWorldMatrix(Ce);for(var r=t.renderData,n=r.floatStride,a=r.data,i=e.vb,o=a.length,u=0;u<o;u++){var s=a[u].x,l=a[u].y,c=a[u].z,f=Ce.m03*s+Ce.m07*l+Ce.m11*c+Ce.m15;f=f?1/f:1;var d=u*n;i[d]=(Ce.m00*s+Ce.m04*l+Ce.m08*c+Ce.m12)*f,i[d+1]=(Ce.m01*s+Ce.m05*l+Ce.m09*c+Ce.m13)*f,i[d+2]=(Ce.m02*s+Ce.m06*l+Ce.m10*c+Ce.m14)*f}this.updateWorldUVData(t)},r.updateVerts=function(t,e,r,n,a){var i=t.node._uiProps.uiTransformComp,o=t.renderData.data,u=t.spriteFrame,s=u.rect,l=Math.abs(i.width),c=Math.abs(i.height),f=i.anchorX*l,d=i.anchorY*c,p=u.insetLeft,h=u.insetRight,m=s.width-p-h,v=u.insetTop,y=u.insetBottom,x=s.height-v-y,g=i.width/(p+h)>1?1:i.width/(p+h),_=i.height/(v+y)>1?1:i.height/(v+y),D=0,T=0;D=m>0?Math.floor(1e3*e)/1e3%m==0?m:e%m:e,T=x>0?Math.floor(1e3*r)/1e3%x==0?x:r%x:r,Ee.length=0,we=Math.max(n+1,a+1);for(var M=0;M<we;M++)Ee.push({x:0,y:0,z:0,u:0,v:0,color:new b});var F=Ue(u);if(0===F)for(var I=0;I<we;I++)Ee[I].x=I>=a?l-f:I*m-f,Ee[I].y=I>=n?c-d:I*x-d;else for(var R=0;R<we;R++)0===R?Ee[R].x=-f:1===R?Ee[R].x=p*g-f:R>1&&R<a-1?Ee[R].x=m>0?p*g-f+m*(R-1):p+e-f:R===a-1?Ee[R].x=p*g-f+D+m*(R-2):R>=a&&(Ee[R].x=Math.min(p+e+h,l)-f),0===R?Ee[R].y=-d:1===R?Ee[R].y=y*_-d:R>1&&R<n-1?Ee[R].y=x>0?y*_-d+x*(R-1):y+r-d:R===n-1?Ee[R].y=y*_-d+T+x*(R-2):R>=n&&(Ee[R].y=Math.min(y+r+v,c)-d);for(var C=0,w=0,E=0,S=0,U=0;U<n;++U){E=Ee[U].y,S=Ee[U+1].y;for(var L=0;L<a;++L){C=Ee[L].x,w=Ee[L+1].x;var N=4*(U*a+L);o[N].x=C,o[N].y=E,o[N+1].x=w,o[N+1].y=E,o[N+2].x=C,o[N+2].y=S,o[N+3].x=w,o[N+3].y=S}}var A=u.rotated,V=(u.uv,u.uvSliced);_e=V[0],De=V[1],Te=V[2],Me=V[3],Fe=V[4],Ie=V[8],Re=V[12];for(var B=0,k=0,O=0===m?e:e/m,P=0===x?r:r/x,z=[],X=[],H=0;H<n;++H){if(r>x)k=r>=(F>0?H:H+1)*x?1:P%1;else k=P;for(var q=0;q<a;++q){if(e>m)B=e>=(F>0?q:q+1)*m?1:O%1;else B=O;A?(0===F?(z[0]=Fe.u,z[1]=Fe.u,z[2]=Fe.u+(Ie.u-Fe.u)*k,X[0]=De.v,X[1]=De.v+(Te.v-De.v)*B,X[2]=De.v):(0===H?(z[0]=_e.u,z[1]=_e.u,z[2]=Fe.u):H<n-1?(z[0]=Fe.u,z[1]=Fe.u,z[2]=Fe.u+(Ie.u-Fe.u)*k):H===n-1&&(z[0]=Ie.u,z[1]=Ie.u,z[2]=Re.u),0===q?(X[0]=_e.v,X[1]=De.v,X[2]=_e.v):q<a-1?(X[0]=De.v,X[1]=De.v+(Te.v-De.v)*B,X[2]=De.v):q===a-1&&(X[0]=Te.v,X[1]=Me.v,X[2]=Te.v)),z[3]=z[2],X[3]=X[1]):(0===F?(z[0]=De.u,z[1]=De.u+(Te.u-De.u)*B,z[2]=De.u,X[0]=Fe.v,X[1]=Fe.v,X[2]=Fe.v+(Ie.v-Fe.v)*k):(0===q?(z[0]=_e.u,z[1]=De.u,z[2]=_e.u):q<a-1?(z[0]=De.u,z[1]=De.u+(Te.u-De.u)*B,z[2]=De.u):q===a-1&&(z[0]=Te.u,z[1]=Me.u,z[2]=Te.u),0===H?(X[0]=_e.v,X[1]=_e.v,X[2]=Fe.v):H<n-1?(X[0]=Fe.v,X[1]=Fe.v,X[2]=Fe.v+(Ie.v-Fe.v)*k):H===n-1&&(X[0]=Ie.v,X[1]=Ie.v,X[2]=Re.v)),z[3]=z[1],X[3]=X[2]);var G=4*(H*a+q);o[G].u=z[0],o[G].v=X[0],o[G+1].u=z[1],o[G+1].v=X[1],o[G+2].u=z[2],o[G+2].v=X[2],o[G+3].u=z[3],o[G+3].v=X[3]}}},r.updateColorLate=function(t){for(var e=t.renderData,r=e.chunk.vb,n=e.floatStride,a=e.vertexCount,i=5,o=t.color,u=o.r/255,s=o.g/255,l=o.b/255,c=t.node._uiProps.opacity,f=0;f<a;f++)r[i]=u,r[i+1]=s,r[i+2]=l,r[i+3]=c,i+=n},r.updateColor=function(t){},e}(tt);t._RF.pop(),t._RF.push({},"51c5dsIz4hJC4slMHj9NLmO","index",void 0);var Ne,Ae=Qt.Type,Ve=Qt.FillType,Be={getAssembler:function(t){var e=new ve,r=t;switch(r.type){case Ae.SLICED:e=new ge;break;case Ae.TILED:e=new Le;break;case Ae.FILLED:e=r.fillType===Ve.RADIAL?new he:new Zt}return e}};Qt.Assembler=Be,t._RF.pop(),t._RF.push({},"d8591pA4D5PQ5szz9GnaKgi","FLMultityTiledLayer",void 0);var ke,Oe,Pe,ze,Xe,He,qe,Ge,We,Ye=v.ccclass,Qe=(v.property,v.executeInEditMode),je=v.menu;Ye("FLMultityTiledLayer")(Ne=Qe(Ne=je("FLMultiUI/FLMultityTileLayer")(Ne=function(t){function e(){return t.apply(this,arguments)||this}return W(e,t),e}(p))||Ne)||Ne);t._RF.pop(),t._RF.push({},"0da91yPVfZByq2r0czGcplh","node.jsb",void 0),t._RF.pop(),t._RF.push({},"eb775Ka1dFLY4VwuLg7+Xud","Main",void 0);var Ke,Je,Ze,$e,tr,er,rr,nr,ar,ir,or,ur,sr,lr,cr,fr,dr,pr,hr,mr,vr,yr,xr,br,gr,_r,Dr,Tr,Mr,Fr,Ir,Rr,Cr,wr,Er,Sr,Ur,Lr,Nr,Ar,Vr,Br,kr,Or,Pr,zr=v.ccclass,Xr=v.property;ke=zr("Main"),Oe=Xr(I),Pe=Xr(I),ze=Xr(I),ke((qe=G((He=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,Y(e,"btnCocosUI",qe,Q(e)),Y(e,"btnMultityUI",Ge,Q(e)),Y(e,"btnSpriteTest",We,Q(e)),e}W(e,t);var r=e.prototype;return r.start=function(){var t=this;this.btnCocosUI.on(U.EventType.CLICK,(function(){L.loadScene("cocosUI"),t.btnCocosUI.getComponent(U).interactable=!1})),this.btnMultityUI.on(U.EventType.CLICK,(function(){L.loadScene("multiUI"),t.btnMultityUI.getComponent(U).interactable=!1})),this.btnSpriteTest.on(U.EventType.CLICK,(function(){L.loadScene("NodeTest"),t.btnSpriteTest.getComponent(U).interactable=!1}))},r.update=function(t){},e}(N)).prototype,"btnCocosUI",[Oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=G(He.prototype,"btnMultityUI",[Pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),We=G(He.prototype,"btnSpriteTest",[ze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Xe=He));t._RF.pop(),t._RF.push({},"d4fd5cPa8BC8LviSXXpTeAl","NodeTest",void 0);var Hr,qr,Gr,Wr=v.ccclass,Yr=v.property;Ke=Wr("NodeTest"),Je=Yr({tooltip:"普通图片预设",type:I}),Ze=Yr({tooltip:"多纹理图片预设",type:I}),$e=Yr({tooltip:"普通Label预设",type:I}),tr=Yr({tooltip:"多纹理Label预设",type:I}),er=Yr({tooltip:"普通图文预设",type:I}),rr=Yr({tooltip:"多纹理图文预设",type:I}),nr=Yr({tooltip:"节点容器",type:I}),ar=Yr({tooltip:"Slider",type:I}),ir=Yr({tooltip:"Label",type:I}),or=Yr({tooltip:"生成普通图片节点",type:I}),ur=Yr({tooltip:"生成多纹理图片节点",type:I}),sr=Yr({tooltip:"生成普通文本节点",type:I}),lr=Yr({tooltip:"生成多纹理文本节点",type:I}),cr=Yr({tooltip:"生成普通图文节点",type:I}),fr=Yr({tooltip:"生成多纹理图文节点",type:I}),dr=Yr({tooltip:"清除Content",type:I}),pr=Yr({tooltip:"返回主场景",type:I}),hr=Yr([d]),mr=Yr({type:f}),vr=Yr({type:f}),yr=Yr(U),Ke((gr=G((br=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,Y(e,"prefab1",gr,Q(e)),Y(e,"prefab2",_r,Q(e)),Y(e,"prefab3",Dr,Q(e)),Y(e,"prefab4",Tr,Q(e)),Y(e,"prefab5",Mr,Q(e)),Y(e,"prefab6",Fr,Q(e)),Y(e,"content",Ir,Q(e)),Y(e,"slider",Rr,Q(e)),Y(e,"showNum",Cr,Q(e)),Y(e,"btn1",wr,Q(e)),Y(e,"btn2",Er,Q(e)),Y(e,"btn3",Sr,Q(e)),Y(e,"btn4",Ur,Q(e)),Y(e,"btn5",Lr,Q(e)),Y(e,"btn6",Nr,Q(e)),Y(e,"btnClear",Ar,Q(e)),Y(e,"btnBackMain",Vr,Q(e)),Y(e,"spriteFrames",Br,Q(e)),Y(e,"lbFPS",kr,Q(e)),Y(e,"lbRender",Or,Q(e)),Y(e,"btnDynamic",Pr,Q(e)),e.curMaxNum=0,e.maxSpriteNum=1e4,e}W(e,t);var r=e.prototype;return r.start=function(){var t=this;A.showStats(),this.slider.on("slide",(function(e){var r=Math.floor(e.progress*t.maxSpriteNum);t.curMaxNum=r,t.showNum.getComponent(f).string=t.curMaxNum}),this),this.btn1.on("click",(function(){t.updateSpriteContent(t.prefab1)}),this),this.btn2.on("click",(function(){t.updateSpriteContent(t.prefab2)}),this),this.btn3.on("click",(function(){t.updateSpriteContent(t.prefab3)}),this),this.btn4.on("click",(function(){t.updateSpriteContent(t.prefab4)}),this),this.btn5.on("click",(function(){t.updateSpriteContent(t.prefab5)}),this),this.btn6.on("click",(function(){t.updateSpriteContent(t.prefab6)}),this),this.btnClear.on("click",(function(){t.destroyAllChildren(t.content)}),this),this.btnBackMain.on("click",(function(){t.btnBackMain.getComponent(U).interactable=!1,L.loadScene("main")}),this)},r.updateSpriteContent=function(t){for(var e=0;e<this.curMaxNum;e++){var r=V(t);r.parent=this.content;var n=this.content.getComponent(B),a=-n.width/2+n.width*Math.random(),i=-n.height/2+n.height*Math.random();r.setPosition(a,i),this.updateItem(r);r.getComponent(B)}},r.destroyAllChildren=function(t){t.children.forEach((function(t){t.destroy()}))},r.updateItem=function(t){var e=t.getComponent(c);e&&(e.spriteFrame=this.spriteFrames[Math.floor(Math.random()*this.spriteFrames.length)]);var r=t.getComponent(f);r&&(r.string="测试"+Math.floor(100*Math.random()));var n=t.getChildByName("icon");n&&(n.getComponent(c).spriteFrame=this.spriteFrames[Math.floor(Math.random()*this.spriteFrames.length)]);var a=t.getChildByName("lbNum");a&&(a.getComponent(f).string=Math.floor(100*Math.random()).toString());var i=t.getChildByName("lbName");i&&(i.getComponent(f).string="测试"+Math.floor(100*Math.random()).toString())},r.lateUpdate=function(t){this.lbFPS&&(this.lbFPS.string="FPS:"+A._profilerStats.fps.counter.value.toFixed(2));var e=n.deviceManager.gfxDevice;this.lbRender&&(this.lbRender.string="DC:"+e.numDrawCalls)},r._updateDynamic=function(){if(this.btnDynamic){var t=this.btnDynamic.node.getComponentInChildren(f),e=i.enabled;console.log("动态合图已"+(e?"开启":"关闭")),t.string=e?"自动合图:开启":"自动合图:关闭"}},e}(N)).prototype,"prefab1",[Je],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_r=G(br.prototype,"prefab2",[Ze],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Dr=G(br.prototype,"prefab3",[$e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Tr=G(br.prototype,"prefab4",[tr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Mr=G(br.prototype,"prefab5",[er],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fr=G(br.prototype,"prefab6",[rr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ir=G(br.prototype,"content",[nr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Rr=G(br.prototype,"slider",[ar],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Cr=G(br.prototype,"showNum",[ir],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),wr=G(br.prototype,"btn1",[or],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Er=G(br.prototype,"btn2",[ur],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Sr=G(br.prototype,"btn3",[sr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ur=G(br.prototype,"btn4",[lr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Lr=G(br.prototype,"btn5",[cr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Nr=G(br.prototype,"btn6",[fr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ar=G(br.prototype,"btnClear",[dr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Vr=G(br.prototype,"btnBackMain",[pr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Br=G(br.prototype,"spriteFrames",[hr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),kr=G(br.prototype,"lbFPS",[mr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Or=G(br.prototype,"lbRender",[vr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pr=G(br.prototype,"btnDynamic",[yr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xr=br));t._RF.pop(),t._RF.push({},"210cc6D2eJHIrAeoc8B9Did","ScaleNode",void 0);var Qr,jr,Kr,Jr,Zr,$r,tn,en,rn,nn,an,on,un,sn,ln,cn,fn,dn,pn,hn,mn,vn,yn,xn=v.ccclass,bn=v.property;xn("ScaleNode")((Gr=G((qr=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(e=t.call.apply(t,[this].concat(n))||this)._state=1,Y(e,"IsUseUpdate",Gr,Q(e)),e}W(e,t);var r=e.prototype;return r.onLoad=function(){var t=this.node;if(!this.IsUseUpdate)k(t).to(.5,{angle:60}),k(t).to(.5,{angle:0})},r.update=function(t){if(this.IsUseUpdate){var e=this.node.angle;e>=60?this._state=1:e<=0&&(this._state=2);var r=0;r=2==this._state?O(0,12,.1):-O(0,12,.1),this.node.angle+=r}},e}(N)).prototype,"IsUseUpdate",[bn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Hr=qr));t._RF.pop(),t._RF.push({},"b4ecc91nv9O0YudIzP5Pm54","TestUI",void 0);var gn=v.ccclass,_n=v.property;Qr=gn("TestUI"),jr=_n(I),Kr=_n(I),Jr=_n(I),Zr=_n(P),$r=_n(z),tn=_n([d]),en=_n(I),rn=_n({type:f}),nn=_n({type:f}),an=_n(U),Qr((sn=G((un=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return e=t.call.apply(t,[this].concat(n))||this,Y(e,"btnBakMainNode",sn,Q(e)),Y(e,"btnSpriteTest",ln,Q(e)),Y(e,"loadContent",cn,Q(e)),Y(e,"prefabItem",fn,Q(e)),Y(e,"scrollView",dn,Q(e)),Y(e,"spriteFrames",pn,Q(e)),Y(e,"NodeTestBtn",hn,Q(e)),Y(e,"lbFPS",mn,Q(e)),Y(e,"lbRender",vn,Q(e)),Y(e,"btnDynamic",yn,Q(e)),e}W(e,t);var r=e.prototype;return r.onLoad=function(){A.showStats()},r.start=function(){var t=this;this.btnBakMainNode.on(U.EventType.CLICK,(function(){L.loadScene("main"),t.btnBakMainNode.getComponent(U).interactable=!1})),this.btnSpriteTest.on(U.EventType.CLICK,(function(){L.loadScene("NodeTest"),t.btnSpriteTest.getComponent(U).interactable=!1})),this.schedule((function(){t.addContentNode()}),.25);for(var e=0;e<100;e++)this.addItem();this.NodeTestBtn.on(U.EventType.CLICK,(function(){L.loadScene("NodeTest")}))},r.update=function(t){},r.addContentNode=function(){var t=this.prefabItem,e=V(t);e.parent=this.loadContent;var r=e.getComponent(X);r.opacity=.1;var n=k(r).to(.5,{opacity:255}).delay(3+2*Math.random()),a=k(r).to(.5,{opacity:255});this.updateItem(e),k(r).sequence(n,a).call((function(){e.destroy()})).start();var i=this.loadContent.getComponent(B),o=-i.width/2+i.width*Math.random(),u=-i.height/2+i.height*Math.random();e.setPosition(o,u)},r.updateItem=function(t){t.getChildByName("icon").getComponent(c).spriteFrame=this.spriteFrames[Math.floor(Math.random()*this.spriteFrames.length)];var e=t.getChildByName("lbNum").getComponent(f),r=t.getChildByName("lbName").getComponent(f);e.string=Math.floor(100*Math.random()).toString(),r.string="test"+Math.floor(100*Math.random()).toString()},r.addItem=function(){var t=this.prefabItem,e=V(t);e.parent=this.scrollView.content,this.updateItem(e)},r.lateUpdate=function(t){this.lbFPS&&(this.lbFPS.string="FPS:"+A._profilerStats.fps.counter.value.toFixed(2));var e=n.deviceManager.gfxDevice;this.lbRender&&(this.lbRender.string="DC:"+e.numDrawCalls)},r._updateDynamic=function(){if(this.btnDynamic){var t=this.btnDynamic.node.getComponentInChildren(f),e=i.enabled;console.log("动态合图已"+(e?"开启":"关闭")),t.string=e?"自动合图:开启":"自动合图:关闭"}},e}(N)).prototype,"btnBakMainNode",[jr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ln=G(un.prototype,"btnSpriteTest",[Kr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),cn=G(un.prototype,"loadContent",[Jr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fn=G(un.prototype,"prefabItem",[Zr],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),dn=G(un.prototype,"scrollView",[$r],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pn=G(un.prototype,"spriteFrames",[tn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),hn=G(un.prototype,"NodeTestBtn",[en],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),mn=G(un.prototype,"lbFPS",[rn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),vn=G(un.prototype,"lbRender",[nn],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),yn=G(un.prototype,"btnDynamic",[an],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),on=un));t._RF.pop(),t._RF.push({},"a7c48D6hExMi6k6K2z64jhT","test",void 0),t._RF.pop(),t._RF.push({},"016119qQCVKmJTjk8oCZZV8","FLEditorUtil",void 0),t._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///main.js'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});